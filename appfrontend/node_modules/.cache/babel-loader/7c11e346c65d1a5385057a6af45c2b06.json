{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FABIARIAS\\\\Desktop\\\\Sprint5\\\\appfrontend\\\\src\\\\components\\\\FacturasCrear.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class FacturasCrear extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      idfactura,\n      fecha,\n      identificacion,\n      nombre,\n      direccion,\n      telefono,\n      idfactura: '',\n      fecha: new Date(),\n      identificacion: '',\n      direccion: '',\n      ciudad: '',\n      telefono: '',\n      idproducto: '',\n      cantidad: '',\n      precio: '',\n      userSelected: '',\n      users: [],\n      editing: false,\n      _id: ''\n    };\n\n    this.onSubmit = async e => {\n      e.preventDefaul();\n\n      if (this.state.editing) {\n        const updatedFactura = {\n          idfactura: this.state.idfactura,\n          fecha: this.state.fecha,\n          identificacion: this.state.identificacion,\n          nombre: this.state.nombre,\n          ciudad: this.state.ciudad,\n          telefono: this.state.telefono,\n          idproducto: this.state.idproducto,\n          cantidad: this.state.cantidad,\n          precio: this.state.precio\n        };\n        await axios.put('http://localhost:4000/api/facturas/' + this.state._id, updatedFactura);\n      } else {\n        const newFactura = {\n          idfactura: this.state.idfactura,\n          fecha: this.state.fecha,\n          identificacion: this.state.identificacion,\n          nombre: this.state.nombre,\n          ciudad: this.state.ciudad,\n          telefono: this.state.telefono,\n          idproducto: this.state.idproducto,\n          cantidad: this.state.cantidad,\n          precio: this.state.precio\n        };\n        axios.post('http://localhost:4000/api/facturas', newFactura);\n      }\n\n      window.location.href = '/';\n    };\n\n    this.onInputChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onChangeDate = fecha => {\n      this.setState({\n        fecha\n      });\n    };\n  }\n\n  async componentDidMount() {\n    const res = await axios.get('http://localhost:4000/api/users');\n\n    if (res.data.length > 0) {\n      this.setState({\n        users: res.data.map(user => user.nombres),\n        userSelected: res.data[0].nombres\n      });\n    }\n\n    if (this.props.match.params.id) {\n      console.log(this.props.match.params.id);\n      const res = await axios.get('http://localhost:4000/api/facturas/' + this.props.match.params.id);\n      console.log(res.data);\n      this.setState({\n        idfactura: res.data.idfactura,\n        fecha: new Date(res.data.fecha),\n        identificacion: res.data.identificacion,\n        nombre: res.data.nombre,\n        ciudad: res.data.ciudad,\n        telefono: res.data.telefono,\n        idproducto: res.data.idproducto,\n        cantidad: res.data.precio,\n        userSelected: res.data.vendedor,\n        _id: res.data._id,\n        editing: true\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"CREAR FACTURAS \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"vendedor\",\n              children: \"Vendedor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control\",\n              value: this.state.userSelected,\n              onChange: this.onInputChange,\n              name: \"userSelected\",\n              id: \"vendedor\",\n              required: true,\n              children: this.state.users.map(user => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: user,\n                children: user\n              }, user, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"factura\",\n              children: \"Factura\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              class: \"form-control\",\n              name: \"idfactura\",\n              value: this.state.idfactura,\n              onChange: this.onInputChange,\n              id: \"factura\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"fecha\",\n              children: \"Fecha\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n              className: \"form-form-control\",\n              selected: this.state.fecha,\n              onChange: this.onChangeDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"identificacion\",\n              children: \"identificacion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              class: \"form-control\",\n              name: \"identificacion\",\n              value: this.state.identificacion,\n              onChange: this.onInputChange,\n              id: \"identificacion\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"nombre\",\n              children: \"Nombre Cliente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              class: \"form-control\",\n              name: \"nombre\",\n              value: this.state.nombre,\n              onChange: this.onInputChange,\n              id: \"nombre\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"ciudad\",\n              children: \"Ciudad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              class: \"form-control\",\n              name: \"ciudad\",\n              value: this.state.ciudad,\n              onChange: this.onInputChange,\n              id: \"ciudad\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"telefono\",\n              children: \"Tel\\xE9fono\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              class: \"form-control\",\n              name: \"telefono\",\n              value: this.state.telefono,\n              onChange: this.onInputChange,\n              id: \"telefono\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"idproducto\",\n              children: \"ID Producto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              class: \"form-control\",\n              name: \"idproducto\",\n              value: this.state.idproducto,\n              onChange: this.onInputChange,\n              id: \"idproducto\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"cantidad\",\n              children: \"Cantidad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              class: \"form-control\",\n              name: \"cantidad\",\n              value: this.state.cantidad,\n              onChange: this.onInputChange,\n              id: \"cantidad\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"precio\",\n              children: \"Precio de venta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              class: \"form-control\",\n              name: \"precio\",\n              value: this.state.precio,\n              onChange: this.onInputChange,\n              id: \"precio\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"Grabar Factura\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/FABIARIAS/Desktop/Sprint5/appfrontend/src/components/FacturasCrear.js"],"names":["React","Component","axios","DatePicker","FacturasCrear","state","idfactura","fecha","identificacion","nombre","direccion","telefono","Date","ciudad","idproducto","cantidad","precio","userSelected","users","editing","_id","onSubmit","e","preventDefaul","updatedFactura","put","newFactura","post","window","location","href","onInputChange","setState","target","name","value","onChangeDate","componentDidMount","res","get","data","length","map","user","nombres","props","match","params","id","console","log","vendedor","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAO,4CAAP;;AAGA,eAAe,MAAMC,aAAN,SAA4BH,SAA5B,CAAsC;AAAA;AAAA;AAAA,SAGjDI,KAHiD,GAGzC;AAEJC,MAAAA,SAFI;AAGJC,MAAAA,KAHI;AAIJC,MAAAA,cAJI;AAKJC,MAAAA,MALI;AAMJC,MAAAA,SANI;AAOJC,MAAAA,QAPI;AASJL,MAAAA,SAAS,EAAE,EATP;AAUJC,MAAAA,KAAK,EAAE,IAAIK,IAAJ,EAVH;AAWJJ,MAAAA,cAAc,EAAE,EAXZ;AAYJE,MAAAA,SAAS,EAAE,EAZP;AAaJG,MAAAA,MAAM,EAAE,EAbJ;AAcJF,MAAAA,QAAQ,EAAE,EAdN;AAeJG,MAAAA,UAAU,EAAE,EAfR;AAgBJC,MAAAA,QAAQ,EAAE,EAhBN;AAiBJC,MAAAA,MAAM,EAAE,EAjBJ;AAkBJC,MAAAA,YAAY,EAAE,EAlBV;AAmBJC,MAAAA,KAAK,EAAE,EAnBH;AAoBJC,MAAAA,OAAO,EAAE,KApBL;AAqBJC,MAAAA,GAAG,EAAE;AArBD,KAHyC;;AAAA,SAyDjDC,QAzDiD,GAyDtC,MAAOC,CAAP,IAAa;AACpBA,MAAAA,CAAC,CAACC,aAAF;;AACA,UAAI,KAAKlB,KAAL,CAAWc,OAAf,EAAwB;AACpB,cAAMK,cAAc,GAAG;AACnBlB,UAAAA,SAAS,EAAE,KAAKD,KAAL,CAAWC,SADH;AAEnBC,UAAAA,KAAK,EAAE,KAAKF,KAAL,CAAWE,KAFC;AAGnBC,UAAAA,cAAc,EAAE,KAAKH,KAAL,CAAWG,cAHR;AAInBC,UAAAA,MAAM,EAAE,KAAKJ,KAAL,CAAWI,MAJA;AAKnBI,UAAAA,MAAM,EAAE,KAAKR,KAAL,CAAWQ,MALA;AAMnBF,UAAAA,QAAQ,EAAE,KAAKN,KAAL,CAAWM,QANF;AAOnBG,UAAAA,UAAU,EAAE,KAAKT,KAAL,CAAWS,UAPJ;AAQnBC,UAAAA,QAAQ,EAAE,KAAKV,KAAL,CAAWU,QARF;AASnBC,UAAAA,MAAM,EAAE,KAAKX,KAAL,CAAWW;AATA,SAAvB;AAYA,cAAMd,KAAK,CAACuB,GAAN,CAAU,wCAAwC,KAAKpB,KAAL,CAAWe,GAA7D,EAAkEI,cAAlE,CAAN;AACH,OAdD,MAcO;AACH,cAAME,UAAU,GAAG;AACfpB,UAAAA,SAAS,EAAE,KAAKD,KAAL,CAAWC,SADP;AAEfC,UAAAA,KAAK,EAAE,KAAKF,KAAL,CAAWE,KAFH;AAGfC,UAAAA,cAAc,EAAE,KAAKH,KAAL,CAAWG,cAHZ;AAIfC,UAAAA,MAAM,EAAE,KAAKJ,KAAL,CAAWI,MAJJ;AAKfI,UAAAA,MAAM,EAAE,KAAKR,KAAL,CAAWQ,MALJ;AAMfF,UAAAA,QAAQ,EAAE,KAAKN,KAAL,CAAWM,QANN;AAOfG,UAAAA,UAAU,EAAE,KAAKT,KAAL,CAAWS,UAPR;AAQfC,UAAAA,QAAQ,EAAE,KAAKV,KAAL,CAAWU,QARN;AASfC,UAAAA,MAAM,EAAE,KAAKX,KAAL,CAAWW;AATJ,SAAnB;AAWAd,QAAAA,KAAK,CAACyB,IAAN,CAAW,oCAAX,EAAiDD,UAAjD;AACH;;AACDE,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AAEH,KAzFgD;;AAAA,SA2FjDC,aA3FiD,GA2FhCT,CAAD,IAAO;AACnB,WAAKU,QAAL,CAAc;AACV,SAACV,CAAC,CAACW,MAAF,CAASC,IAAV,GAAiBZ,CAAC,CAACW,MAAF,CAASE;AADhB,OAAd;AAGH,KA/FgD;;AAAA,SAiGjDC,YAjGiD,GAiGlC7B,KAAK,IAAI;AACpB,WAAKyB,QAAL,CAAc;AAAEzB,QAAAA;AAAF,OAAd;AACH,KAnGgD;AAAA;;AA2B1B,QAAjB8B,iBAAiB,GAAG;AACtB,UAAMC,GAAG,GAAG,MAAMpC,KAAK,CAACqC,GAAN,CAAU,iCAAV,CAAlB;;AACA,QAAID,GAAG,CAACE,IAAJ,CAASC,MAAT,GAAkB,CAAtB,EAAyB;AACrB,WAAKT,QAAL,CAAc;AACVd,QAAAA,KAAK,EAAEoB,GAAG,CAACE,IAAJ,CAASE,GAAT,CAAaC,IAAI,IAAIA,IAAI,CAACC,OAA1B,CADG;AAEV3B,QAAAA,YAAY,EAAEqB,GAAG,CAACE,IAAJ,CAAS,CAAT,EAAYI;AAFhB,OAAd;AAIH;;AACD,QAAI,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAA5B,EAAgC;AAC5BC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKL,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAApC;AACA,YAAMV,GAAG,GAAG,MAAMpC,KAAK,CAACqC,GAAN,CAAU,wCAAwC,KAAKM,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAA1E,CAAlB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYZ,GAAG,CAACE,IAAhB;AACA,WAAKR,QAAL,CAAc;AACV1B,QAAAA,SAAS,EAAEgC,GAAG,CAACE,IAAJ,CAASlC,SADV;AAEVC,QAAAA,KAAK,EAAE,IAAIK,IAAJ,CAAS0B,GAAG,CAACE,IAAJ,CAASjC,KAAlB,CAFG;AAGVC,QAAAA,cAAc,EAAE8B,GAAG,CAACE,IAAJ,CAAShC,cAHf;AAIVC,QAAAA,MAAM,EAAE6B,GAAG,CAACE,IAAJ,CAAS/B,MAJP;AAKVI,QAAAA,MAAM,EAACyB,GAAG,CAACE,IAAJ,CAAS3B,MALN;AAMVF,QAAAA,QAAQ,EAAC2B,GAAG,CAACE,IAAJ,CAAS7B,QANR;AAOVG,QAAAA,UAAU,EAACwB,GAAG,CAACE,IAAJ,CAAS1B,UAPV;AAQVC,QAAAA,QAAQ,EAACuB,GAAG,CAACE,IAAJ,CAASxB,MARR;AASVC,QAAAA,YAAY,EAACqB,GAAG,CAACE,IAAJ,CAASW,QATZ;AAUV/B,QAAAA,GAAG,EAAEkB,GAAG,CAACE,IAAJ,CAASpB,GAVJ;AAWVD,QAAAA,OAAO,EAAE;AAXC,OAAd;AAaH;AACJ;;AAiDDiC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAGI;AAAM,UAAA,QAAQ,EAAE,KAAK/B,QAArB;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,oCACI;AAAO,cAAA,GAAG,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAQ,cAAA,SAAS,EAAC,cAAlB;AACI,cAAA,KAAK,EAAE,KAAKhB,KAAL,CAAWY,YADtB;AAEI,cAAA,QAAQ,EAAE,KAAKc,aAFnB;AAGI,cAAA,IAAI,EAAC,cAHT;AAGwB,cAAA,EAAE,EAAC,UAH3B;AAGsC,cAAA,QAAQ,MAH9C;AAAA,wBAKQ,KAAK1B,KAAL,CAAWa,KAAX,CAAiBwB,GAAjB,CAAqBC,IAAI,iBACrB;AAAmB,gBAAA,KAAK,EAAEA,IAA1B;AAAA,0BACKA;AADL,iBAAaA,IAAb;AAAA;AAAA;AAAA;AAAA,sBADJ;AALR;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAkBI;AAAK,YAAA,KAAK,EAAC,YAAX;AAAA,oCACI;AAAO,cAAA,GAAG,EAAC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,KAAK,EAAC,cAAzB;AAAwC,cAAA,IAAI,EAAC,WAA7C;AACI,cAAA,KAAK,EAAE,KAAKtC,KAAL,CAAWC,SADtB;AAEI,cAAA,QAAQ,EAAE,KAAKyB,aAFnB;AAGI,cAAA,EAAE,EAAC,SAHP;AAII,cAAA,QAAQ;AAJZ;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAlBJ,eA2BI;AAAK,YAAA,KAAK,EAAC,YAAX;AAAA,oCACI;AAAO,cAAA,GAAG,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI,QAAC,UAAD;AACI,cAAA,SAAS,EAAC,mBADd;AACkC,cAAA,QAAQ,EAAE,KAAK1B,KAAL,CAAWE,KADvD;AAC8D,cAAA,QAAQ,EAAE,KAAK6B;AAD7E;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBA3BJ,eAiCI;AAAK,YAAA,KAAK,EAAC,YAAX;AAAA,oCACI;AAAO,cAAA,GAAG,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,KAAK,EAAC,cAAzB;AAAwC,cAAA,IAAI,EAAC,gBAA7C;AACI,cAAA,KAAK,EAAE,KAAK/B,KAAL,CAAWG,cADtB;AAEI,cAAA,QAAQ,EAAE,KAAKuB,aAFnB;AAGI,cAAA,EAAE,EAAC,gBAHP;AAII,cAAA,QAAQ;AAJZ;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAjCJ,eA0CI;AAAK,YAAA,KAAK,EAAC,YAAX;AAAA,oCACI;AAAO,cAAA,GAAG,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,KAAK,EAAC,cAAzB;AAAwC,cAAA,IAAI,EAAC,QAA7C;AACI,cAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWI,MADtB;AAEI,cAAA,QAAQ,EAAE,KAAKsB,aAFnB;AAGI,cAAA,EAAE,EAAC,QAHP;AAII,cAAA,QAAQ;AAJZ;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBA1CJ,eAmDI;AAAK,YAAA,KAAK,EAAC,YAAX;AAAA,oCACI;AAAO,cAAA,GAAG,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,KAAK,EAAC,cAAzB;AAAwC,cAAA,IAAI,EAAC,QAA7C;AACI,cAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWQ,MADtB;AAEI,cAAA,QAAQ,EAAE,KAAKkB,aAFnB;AAGI,cAAA,EAAE,EAAC,QAHP;AAII,cAAA,QAAQ;AAJZ;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAnDJ,eA4DI;AAAK,YAAA,KAAK,EAAC,YAAX;AAAA,oCACI;AAAO,cAAA,GAAG,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,KAAK,EAAC,cAAzB;AAAwC,cAAA,IAAI,EAAC,UAA7C;AACI,cAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWM,QADtB;AAEI,cAAA,QAAQ,EAAE,KAAKoB,aAFnB;AAGI,cAAA,EAAE,EAAC,UAHP;AAII,cAAA,QAAQ;AAJZ;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBA5DJ,eAqEI;AAAK,YAAA,KAAK,EAAC,YAAX;AAAA,oCACI;AAAO,cAAA,GAAG,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,KAAK,EAAC,cAAzB;AAAwC,cAAA,IAAI,EAAC,YAA7C;AACI,cAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWS,UADtB;AAEI,cAAA,QAAQ,EAAE,KAAKiB,aAFnB;AAGI,cAAA,EAAE,EAAC,YAHP;AAII,cAAA,QAAQ;AAJZ;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBArEJ,eA8EI;AAAK,YAAA,KAAK,EAAC,YAAX;AAAA,oCACI;AAAO,cAAA,GAAG,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,KAAK,EAAC,cAAzB;AAAwC,cAAA,IAAI,EAAC,UAA7C;AACI,cAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWU,QADtB;AAEI,cAAA,QAAQ,EAAE,KAAKgB,aAFnB;AAGI,cAAA,EAAE,EAAC,UAHP;AAII,cAAA,QAAQ;AAJZ;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBA9EJ,eAuFI;AAAK,YAAA,KAAK,EAAC,YAAX;AAAA,oCACI;AAAO,cAAA,GAAG,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,KAAK,EAAC,cAAzB;AAAwC,cAAA,IAAI,EAAC,QAA7C;AACI,cAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWW,MADtB;AAEI,cAAA,QAAQ,EAAE,KAAKe,aAFnB;AAGI,cAAA,EAAE,EAAC,QAHP;AAII,cAAA,QAAQ;AAJZ;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAvFJ,eAmGI;AAAQ,YAAA,IAAI,EAAC,QAAb;AAAsB,YAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAnGJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAiHH;;AAxNgD","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\n\r\n\r\nexport default class FacturasCrear extends Component {\r\n\r\n\r\n    state = {\r\n\r\n        idfactura,\r\n        fecha,\r\n        identificacion,\r\n        nombre,\r\n        direccion,\r\n        telefono,\r\n        \r\n        idfactura: '',\r\n        fecha: new Date(),\r\n        identificacion: '',\r\n        direccion: '',\r\n        ciudad: '',\r\n        telefono: '',\r\n        idproducto: '',\r\n        cantidad: '',\r\n        precio: '',\r\n        userSelected: '',\r\n        users: [],\r\n        editing: false,\r\n        _id: ''\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const res = await axios.get('http://localhost:4000/api/users');\r\n        if (res.data.length > 0) {\r\n            this.setState({\r\n                users: res.data.map(user => user.nombres),\r\n                userSelected: res.data[0].nombres\r\n            })\r\n        }\r\n        if (this.props.match.params.id) {\r\n            console.log(this.props.match.params.id)\r\n            const res = await axios.get('http://localhost:4000/api/facturas/' + this.props.match.params.id);\r\n            console.log(res.data)\r\n            this.setState({\r\n                idfactura: res.data.idfactura,\r\n                fecha: new Date(res.data.fecha),\r\n                identificacion: res.data.identificacion,\r\n                nombre: res.data.nombre,\r\n                ciudad:res.data.ciudad,\r\n                telefono:res.data.telefono,\r\n                idproducto:res.data.idproducto,\r\n                cantidad:res.data.precio,\r\n                userSelected:res.data.vendedor,\r\n                _id: res.data._id,\r\n                editing: true\r\n           });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    onSubmit = async (e) => {\r\n        e.preventDefaul();\r\n        if (this.state.editing) {\r\n            const updatedFactura = {\r\n                idfactura: this.state.idfactura,\r\n                fecha: this.state.fecha,\r\n                identificacion: this.state.identificacion,\r\n                nombre: this.state.nombre,\r\n                ciudad: this.state.ciudad,\r\n                telefono: this.state.telefono,\r\n                idproducto: this.state.idproducto,\r\n                cantidad: this.state.cantidad,\r\n                precio: this.state.precio\r\n\r\n            };\r\n            await axios.put('http://localhost:4000/api/facturas/' + this.state._id, updatedFactura);\r\n        } else {\r\n            const newFactura = {\r\n                idfactura: this.state.idfactura,\r\n                fecha: this.state.fecha,\r\n                identificacion: this.state.identificacion,\r\n                nombre: this.state.nombre,\r\n                ciudad: this.state.ciudad,\r\n                telefono: this.state.telefono,\r\n                idproducto: this.state.idproducto,\r\n                cantidad: this.state.cantidad,\r\n                precio: this.state.precio\r\n            };\r\n            axios.post('http://localhost:4000/api/facturas', newFactura);\r\n        }\r\n        window.location.href = '/';\r\n\r\n    }\r\n\r\n    onInputChange = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    onChangeDate = fecha => {\r\n        this.setState({ fecha });\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"col-md-12\">\r\n                <div className=\"card card-body\">\r\n                    <h4>CREAR FACTURAS </h4>\r\n                    {/** SELECCIONE VENDEDOR */}\r\n                    <form onSubmit={this.onSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <label for=\"vendedor\">Vendedor</label>\r\n                            <select className=\"form-control\"\r\n                                value={this.state.userSelected}\r\n                                onChange={this.onInputChange}\r\n                                name=\"userSelected\" id=\"vendedor\" required>\r\n                                {\r\n                                    this.state.users.map(user => (\r\n                                        <option key={user} value={user}>\r\n                                            {user}\r\n                                        </option>\r\n                                    ))\r\n                                }\r\n\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div class=\"form-group\">\r\n                            <label for=\"factura\">Factura</label>\r\n                            <input type=\"text\" class=\"form-control\" name=\"idfactura\"\r\n                                value={this.state.idfactura}\r\n                                onChange={this.onInputChange}\r\n                                id=\"factura\"\r\n                                required />\r\n                        </div>\r\n\r\n                        <div class=\"form-group\">\r\n                            <label for=\"fecha\">Fecha</label>\r\n                            <DatePicker\r\n                                className=\"form-form-control\" selected={this.state.fecha} onChange={this.onChangeDate} />\r\n                        </div>\r\n\r\n                        <div class=\"form-group\">\r\n                            <label for=\"identificacion\">identificacion</label>\r\n                            <input type=\"text\" class=\"form-control\" name=\"identificacion\"\r\n                                value={this.state.identificacion}\r\n                                onChange={this.onInputChange}\r\n                                id=\"identificacion\"\r\n                                required />\r\n                        </div>\r\n\r\n                        <div class=\"form-group\">\r\n                            <label for=\"nombre\">Nombre Cliente</label>\r\n                            <input type=\"text\" class=\"form-control\" name=\"nombre\"\r\n                                value={this.state.nombre}\r\n                                onChange={this.onInputChange}\r\n                                id=\"nombre\"\r\n                                required />\r\n                        </div>\r\n\r\n                        <div class=\"form-group\">\r\n                            <label for=\"ciudad\">Ciudad</label>\r\n                            <input type=\"text\" class=\"form-control\" name=\"ciudad\"\r\n                                value={this.state.ciudad}\r\n                                onChange={this.onInputChange}\r\n                                id=\"ciudad\"\r\n                                required />\r\n                        </div>\r\n\r\n                        <div class=\"form-group\">\r\n                            <label for=\"telefono\">Teléfono</label>\r\n                            <input type=\"text\" class=\"form-control\" name=\"telefono\"\r\n                                value={this.state.telefono}\r\n                                onChange={this.onInputChange}\r\n                                id=\"telefono\"\r\n                                required />\r\n                        </div>\r\n\r\n                        <div class=\"form-group\">\r\n                            <label for=\"idproducto\">ID Producto</label>\r\n                            <input type=\"text\" class=\"form-control\" name=\"idproducto\"\r\n                                value={this.state.idproducto}\r\n                                onChange={this.onInputChange}\r\n                                id=\"idproducto\"\r\n                                required />\r\n                        </div>\r\n\r\n                        <div class=\"form-group\">\r\n                            <label for=\"cantidad\">Cantidad</label>\r\n                            <input type=\"text\" class=\"form-control\" name=\"cantidad\"\r\n                                value={this.state.cantidad}\r\n                                onChange={this.onInputChange}\r\n                                id=\"cantidad\"\r\n                                required />\r\n                        </div>\r\n\r\n                        <div class=\"form-group\">\r\n                            <label for=\"precio\">Precio de venta</label>\r\n                            <input type=\"text\" class=\"form-control\" name=\"precio\"\r\n                                value={this.state.precio}\r\n                                onChange={this.onInputChange}\r\n                                id=\"precio\"\r\n                                required />\r\n                        </div>\r\n\r\n\r\n\r\n\r\n                        <button type=\"submit\" className=\"btn btn-primary\">\r\n                            Grabar Factura\r\n                        </button>\r\n\r\n                    </form>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}